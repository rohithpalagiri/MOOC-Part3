(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),r=t(13),c=t.n(r),l=t(2),o=t(3),i=t.n(o),m="/api/persons",s=function(e){return i.a.post(m,e).then((function(e){return e.data}))},f=function(e){return i.a.delete(m+"/"+e.toString()).then((function(e){return console.log("Delete data: ",e.data)}))},d=function(e,n){return i.a.put(m+"/"+e.toString(),n)},h=m,b=function(e){var n=e.handleSearchChange,t=e.value;return u.a.createElement("div",null,"filter shown with ",u.a.createElement("input",{onChange:n,value:t})," ")},v=function(e){var n=e.handleSubmit,t=e.handleNameChange,a=e.handleNumberChange,r=e.newName,c=e.newNumber;return u.a.createElement("form",{onSubmit:n},u.a.createElement("div",null,"name: ",u.a.createElement("input",{onChange:t,value:r})),u.a.createElement("div",null,"number ",u.a.createElement("input",{onChange:a,value:c})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},p=function(e){var n=e.searchResult,t=e.handleDelete;return u.a.createElement("div",null,n.map((function(e){return u.a.createElement("li",{key:e.name},e.name," ",e.number," ",u.a.createElement("button",{onClick:function(){return t(e)}},"delete"))})))},E=function(e){var n=e.message,t=e.type;return null===n?null:u.a.createElement("div",{className:"success"===t?"success":"error"},n)},g=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),o=Object(l.a)(c,2),m=o[0],g=o[1],j=Object(a.useState)(""),O=Object(l.a)(j,2),S=O[0],w=O[1],C=Object(a.useState)(""),k=Object(l.a)(C,2),N=k[0],y=k[1],D=Object(a.useState)("false"),T=Object(l.a)(D,2),I=T[0],J=T[1],L=Object(a.useState)(""),R=Object(l.a)(L,2),V=R[0],x=R[1],A=Object(a.useState)(null),B=Object(l.a)(A,2),P=B[0],U=B[1];Object(a.useEffect)((function(){i.a.get(h).then((function(e){r(e.data)}))}),[]);var W=I?t.filter((function(e){return e.name.toLowerCase().includes(N.toLowerCase())})):t;return u.a.createElement("div",null,u.a.createElement("h1",null,"Phonebook"),u.a.createElement(E,{message:V,type:P}),u.a.createElement(b,{handleSearchChange:function(e){y(e.target.value),N.length?J(!0):J(!1)},value:N}),u.a.createElement(v,{handleSubmit:function(e){e.preventDefault();var n={name:m,number:S};if(t.some((function(e){return e.name===n.name}))){var a=t.find((function(e){return e.name===n.name}));window.confirm("Would you like to update the number for ".concat(n.name,"?"))&&d(a.id,n).then((function(e){r(t.map((function(n){return n.id!==a.id?n:e.data}))),x("Updated ".concat(e.data.name)),U("success"),setTimeout((function(){x(null)}),2e3)})).catch((function(e){x("Information of ".concat(a.name," has already been deleted")),U("fail"),setTimeout((function(){x(null)}),2e3)}))}else s(n).then((function(e){r(t.concat(e)),x("Added ".concat(e.name)),U("success"),setTimeout((function(){x(null)}),2e3),g("")}))},handleNameChange:function(e){e.preventDefault(),g(e.target.value)},handleNumberChange:function(e){e.preventDefault(),w(e.target.value)},nameValue:m,numberValue:S}),u.a.createElement("h2",null,"Numbers"),u.a.createElement(p,{handleDelete:function(e){return window.confirm("Delete ".concat(e.name,"?"))?f(e.id).then((function(n){var a=t.filter((function(n){return n.id!==e.id}));r(a)})):void 0},searchResult:W}))};t(36);c.a.render(u.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.85785a4b.chunk.js.map